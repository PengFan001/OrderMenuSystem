<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Menu</title>
</head>
<body>
    <div class="table-responsive" id="food" v-cloak>
        <table class="table table-striped table-sm" border="1">
            <tr>
                <th>菜名</th>
                <th>类型</th>
                <th>单价</th>
                <th>购买</th>
            </tr>

            <tr v-for="food in foodList">
                <td>{{food.name}}</td>
                <td>{{food.type}}</td>
                <td>{{food.price}}</td>
                <td>
                    <form name="add_food" action="/menu/shopping">
                        <input type="number" id="number" name="number" value="1">
                        <input type="text" id="name" name="name" v-model="food.name" hidden>
                        <input type="number" id="price" name="price" v-model="food.price" hidden>
                        <button type="submit">添加至购物车</button>
                    </form>
                </td>
            </tr>

        </table>
    </div>


    <script>
        $(function () {
            $.get("/menu/getFoodInformation", function (data) {
                console.log(data);

                var app = new Vue({
                    el : '#food',
                    data : {
                        foodList : data,
                    }
                })
            })
        })

        function myrefresh(){
            window.location.reload();
        }
        setTimeout('myrefresh()',10000); //指定10秒刷新一次
    </script>
</body>
</html>